
<!-- README.md is generated from README.Rmd. Please edit that file -->

# cdrs

<!-- badges: start -->
<!-- badges: end -->

This package includes functions to aid data scientists in analyzing the
California Delta Residents Survey (CDRS) of 2023. Given the complex
structure of the data set, this package is designed to combine the
metadata and the data to facilitate access to variable qualities of
interest. The complexity is due in part to the distribution mechanism of
the survey, Qualtrics. This survey service yields nuanced information
about how a survey respondent chose to mark their deficit, either by
directly supplying a response like “I don’t know”, ending the survey
early, or skipping the question. A full description of [how missing
values are
handled](https://ktomari.github.io/DeltaResidentsSurvey/doc_missing_and_ordinal.html)
in the CDRS is available in the project documentation.

## Installation

You can install the development version of cdrs from
[GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("ktomari/cdrs")
```

## Examples

    #> ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    #> ✔ dplyr     1.1.4     ✔ readr     2.1.5
    #> ✔ forcats   1.0.0     ✔ stringr   1.5.1
    #> ✔ ggplot2   3.4.4     ✔ tibble    3.2.1
    #> ✔ lubridate 1.9.3     ✔ tidyr     1.3.1
    #> ✔ purrr     1.0.2     
    #> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    #> ✖ dplyr::filter() masks stats::filter()
    #> ✖ dplyr::lag()    masks stats::lag()
    #> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors
    #> 
    #> Attaching package: 'kableExtra'
    #> 
    #> 
    #> The following object is masked from 'package:dplyr':
    #> 
    #>     group_rows

## Example: Reading Example Data

The primary R function for reading DRS data into your R environment is
`cdrs_read()`, however if you don’t immediately have access to the
[public data set](https://doi.org/10.3886/E195447V1) (or a collaborator
data set), you can still test it with this wrap-around function
`cdrs_read_example()`. This loads a fabricated data set that is
configured to look like the public data set circa December 2023. This
fabricated data set is in the package directory `/extdata/demo`.

First, we’ll see what the data set looks like with the varying types of
‘missing values’, which include things like `<Decline to answer>` that
means respondents read the question, but declined to select a response,
or enter anything in text entry field. A full list of possible ‘[missing
values](https://ktomari.github.io/DeltaResidentsSurvey/doc_missing_and_ordinal.html#the-schema-of-the-drs-data-product)’
is available in our documentation.

``` r
dat1 <- cdrs::cdrs_read_example()
#> Loading fabricated DRS data.

dat1 %>%
  head() %>%
  knitr::kable(format = "markdown")
```

| DRS_ID     | DistributionChannel | UserLanguage | geoid.county | Zone | Q1_0                | Q1_1                | Q1_2                | Q1_3                | Q1_4                | Q1_5                | Q1a              | Q2                              | Q3_0 | Q3_1 | Q3_2 | Q3_3 | Q3_4 | Q3_5 | Q3_6 | Q3_7 | Q3_8 | Q4_0                                     | Q4_1                                     | Q4_2                                     | Q4_3                                     | Q4_4                                     | Q4_5                                     | Q6_0                | Q6_1                | Q6_2                | Q6_3                | Q6_4                | Q6_5                | Q6_6                | Q6_7                | Q6_8                | Q6_9                | Q7_0                | Q7_1                | Q7_2                | Q7_3                | Q7_4                | Q7_5                | Q7_6                | Q7_7                | Q7_8                | Q7_9                | Q7_10               | Q7_11               | Q7_12               | Q8_0                | Q8_1                | Q8_2                | Q8_3                | Q8_4                | Q8_5                | Q8_6                | Q9                                              | Q10               | Q12_0               | Q12_1               | Q12_2               | Q12_3               | Q12_4               | Q12_5               | Q12_6               | Q12_7               | Q13a                 | Q13b                 | Q13c                 | Q13d                 | Q13e                 | Q13f                 | Q13g                 | Q14                  | Q15                              | Q16                                                      | Q17_0               | Q17_1               | Q17_2               | Q17_3               | Q17_4               | Q17_5               | Q17_6               | Q17_7               | Q17_8               | Q17_9               | Q18                 | Q19a              | Q19b                | Q20                                                                 | Q21                    | Q22                    | Q23                    | Q24_0               | Q24_1               | Q24_2               | Q24_3               | Q24_4               | Q24_5               | Q24_6               | Q24_7               | Q24_8               | Q24_9               | Q24_10              | Q24_11              | Q24_12              | Q24_13              | Q24_14              | Q24_15              | Q34                 | Q39 | Q41a                | Q41b                | Q41c                | Q41d                | Q41e                | Q41f                | Q42a                | Q42b                | Q42c                | Q42d                | Q42e                | Q42f                | Q42g                | Q42h                | Q42i                | Q43_0               | Q43_1               | Q43_2               | Q43_3               | Q43_4               | Q43_5               | Q43_6               | Q43_7               | Q43_9               | Q43_10           | Q43_11              |   WTFINAL | SEX_P     | RACE_P          | INCOME_P      | AGE_P     | ETHNICITY_P         | EDU_P     | HOMEOWNERSHIP_P                           | LANGUAGE_P   |
|:-----------|:--------------------|:-------------|:-------------|:-----|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:-----------------|:--------------------------------|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----------------------------------------|:-----------------------------------------|:-----------------------------------------|:-----------------------------------------|:-----------------------------------------|:-----------------------------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:------------------------------------------------|:------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:---------------------|:---------------------|:---------------------|:---------------------|:---------------------|:---------------------|:---------------------|:---------------------|:---------------------------------|:---------------------------------------------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:------------------|:--------------------|:--------------------------------------------------------------------|:-----------------------|:-----------------------|:-----------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:----|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:--------------------|:-----------------|:--------------------|----------:|:----------|:----------------|:--------------|:----------|:--------------------|:----------|:------------------------------------------|:-------------|
| DRS_ID2295 | Mail                | English      | 113          | 1    | Yes                 | No                  | Yes                 | No                  | No                  | Yes                 | 47               | Rural (outside of town)         | No   | Yes  | Yes  | Yes  | Yes  | No   | Yes  | No   | Yes  | Yes                                      | No                                       | <I Dont know why the Delta is important> | Yes                                      | Yes                                      | <I Dont know why the Delta is important> | <Decline to answer> | Yes                 | No                  | No                  | Yes                 | <Decline to answer> | <Decline to answer> | Yes                 | Yes                 | Yes                 | Yes                 | Yes                 | <Decline to answer> | Yes                 | Yes                 | Yes                 | No                  | No                  | <Decline to answer> | <Decline to answer> | <Decline to answer> | Yes                 | No                  | <Decline to answer> | Yes                 | No                  | No                  | Yes                 | Yes                 | <Decline to answer> | Please specify individual or organization name: | Satisfied         | <Decline to answer> | <Decline to answer> | Yes                 | <Decline to answer> | Yes                 | No                  | No                  | <Decline to answer> | Very concerned       | Moderately concerned | Not at all concerned | Somewhat concerned   | Moderately concerned | Somewhat concerned   | Not at all concerned | <Decline to answer>  | Mostly due to other factors      | \<I don’t know\>                                         | Yes                 | <Decline to answer> | No                  | Yes                 | <Decline to answer> | Yes                 | No                  | Yes                 | <Decline to answer> | Yes                 | No                  | Somewhat disagree | <Decline to answer> | \<I don’t know\>                                                    | Doing the right amount | Doing too much         | Doing the right amount | No                  | <Decline to answer> | Yes                 | No                  | <Decline to answer> | Yes                 | Yes                 | No                  | No                  | <Decline to answer> | <Decline to answer> | No                  | Yes                 | <Decline to answer> | No                  | <Decline to answer> | <Decline to answer> | Yes | Trust somewhat      | Trust completely    | Strongly distrust   | <Not applicable>    | Somewhat distrust   | Trust somewhat      | <Not applicable>    | <Decline to answer> | <Decline to answer> | Somewhat likely     | Somewhat unlikely   | Unsure              | NA                  | <Decline to answer> | NA                  | <Not applicable>    | NA                  | No                  | <Not applicable>    | Yes                 | Yes                 | Yes                 | <Decline to answer> | <Decline to answer> | Yes              | <Decline to answer> | 6.5708839 | Male      | White           | 75K - \<100K  | 45-54     | <Missing>           | \<BA/BS   | Owned by you or someone else living there | Other lang   |
| DRS_ID2296 | Mail                | English      | 095          | 1    | Yes                 | No                  | Yes                 | <Decline to answer> | <Decline to answer> | Yes                 | 32               | Rural (outside of town)         | No   | No   | Yes  | No   | No   | No   | Yes  | No   | Yes  | No                                       | Yes                                      | Yes                                      | No                                       | No                                       | No                                       | Yes                 | No                  | No                  | Yes                 | No                  | <Decline to answer> | Yes                 | <Decline to answer> | <Decline to answer> | Yes                 | <Decline to answer> | No                  | Yes                 | No                  | No                  | No                  | <Decline to answer> | <Decline to answer> | No                  | No                  | No                  | Yes                 | No                  | Yes                 | No                  | No                  | Yes                 | No                  | <Decline to answer> | No                  | \<I don’t know\>                                | Dissatisfied      | <Decline to answer> | <Decline to answer> | <Decline to answer> | No                  | <Decline to answer> | No                  | <Decline to answer> | <Decline to answer> | Somewhat concerned   | <Unsure>             | Moderately concerned | Moderately concerned | <Unsure>             | Moderately concerned | <Decline to answer>  | <Decline to answer>  | \<I don’t know\>                 | mostly by natural changes in the environment             | No                  | <Decline to answer> | <Decline to answer> | No                  | No                  | <Decline to answer> | No                  | No                  | <Decline to answer> | Yes                 | No                  | Strongly disagree | Strongly agree      | <Decline to answer>                                                 | <Decline to answer>    | Doing the right amount | Doing the right amount | Yes                 | No                  | No                  | No                  | No                  | No                  | No                  | <Decline to answer> | Yes                 | Yes                 | No                  | <Decline to answer> | Yes                 | Yes                 | Yes                 | No                  | None of the above   | Yes | Somewhat distrust   | Somewhat distrust   | Trust somewhat      | Somewhat distrust   | NA                  | <Not applicable>    | NA                  | Somewhat likely     | <Not applicable>    | NA                  | Very likely         | Very likely         | Unsure              | Somewhat likely     | No                  | Yes                 | Yes                 | <Not applicable>    | Yes                 | <Not applicable>    | No                  | NA                  | <Decline to answer> | Yes                 | NA               | <Decline to answer> | 0.1300191 | Female    | Asian/PI        | 50K - \<75K   | 65+       | <Missing>           | \>BA/BS   | NA                                        | Other lang   |
| DRS_ID2297 | Online              | Spanish      | 113          | 2    | Yes                 | <Decline to answer> | <Decline to answer> | No                  | Yes                 | No                  | <Not applicable> | Urban                           | Yes  | Yes  | No   | Yes  | Yes  | No   | No   | Yes  | No   | No                                       | <I Dont know why the Delta is important> | <I Dont know why the Delta is important> | <I Dont know why the Delta is important> | No                                       | <I Dont know why the Delta is important> | No                  | <Decline to answer> | Yes                 | Yes                 | <Decline to answer> | Yes                 | No                  | Yes                 | <Decline to answer> | <Decline to answer> | <Decline to answer> | No                  | <Decline to answer> | <Decline to answer> | <Decline to answer> | No                  | Yes                 | <Decline to answer> | No                  | <Decline to answer> | Yes                 | <Decline to answer> | No                  | No                  | <Decline to answer> | Yes                 | Yes                 | No                  | <Decline to answer> | No                  | No one advocates for my interests in the Delta  | Satisfied         | <Decline to answer> | <Decline to answer> | No                  | <Decline to answer> | Yes                 | Yes                 | No                  | Yes                 | <Decline to answer>  | Not at all concerned | Somewhat concerned   | Not at all concerned | <Decline to answer>  | <Decline to answer>  | Very concerned       | No                   | Mostly due to climate change     | mostly by human activities                               | Yes                 | <Decline to answer> | Yes                 | No                  | No                  | <Decline to answer> | <Decline to answer> | <Decline to answer> | <Decline to answer> | No                  | <Decline to answer> | Somewhat agree    | Strongly disagree   | Yes, I have personally experienced drought impacts. Please specify: | Doing too much         | Not doing enough       | Doing the right amount | No                  | Yes                 | <Decline to answer> | Yes                 | No                  | No                  | No                  | <Decline to answer> | Yes                 | Yes                 | <Decline to answer> | <Decline to answer> | No                  | <Decline to answer> | <Decline to answer> | Yes                 | Conservative        | Yes | Trust completely    | Trust somewhat      | <Decline to answer> | Trust somewhat      | Trust somewhat      | Trust only a little | <Decline to answer> | Very likely         | Somewhat unlikely   | Very unlikely       | Unsure              | <Not applicable>    | <Decline to answer> | Very unlikely       | <Not applicable>    | <Decline to answer> | No                  | Yes                 | <Decline to answer> | NA                  | <Decline to answer> | Yes                 | No                  | NA                  | <Not applicable> | Yes                 | 2.4549599 | Male      | Black           | \>150K        | <Missing> | Not Hispanic/Latino | <Missing> | Rented/Other                              | Other lang   |
| DRS_ID2298 | Online              | English      | 013          | 3    | No                  | Yes                 | <Decline to answer> | Yes                 | No                  | No                  | 14               | \<I don’t know\>                | Yes  | Yes  | Yes  | No   | Yes  | No   | Yes  | Yes  | Yes  | No                                       | <I Dont know why the Delta is important> | No                                       | Yes                                      | No                                       | <I Dont know why the Delta is important> | <Decline to answer> | <Decline to answer> | Yes                 | Yes                 | Yes                 | No                  | <Decline to answer> | Yes                 | <Decline to answer> | <Decline to answer> | Yes                 | Yes                 | No                  | No                  | No                  | Yes                 | No                  | Yes                 | No                  | <Decline to answer> | Yes                 | No                  | <Decline to answer> | No                  | No                  | Yes                 | No                  | <Decline to answer> | <Decline to answer> | <Decline to answer> | No one advocates for my interests in the Delta  | Very dissatisfied | No                  | No                  | No                  | <Decline to answer> | <Decline to answer> | <Decline to answer> | Yes                 | <Decline to answer> | Somewhat concerned   | Somewhat concerned   | Very concerned       | Very concerned       | Not at all concerned | Very concerned       | <Decline to answer>  | <Decline to answer>  | Mostly due to climate change     | \<I don’t know\>                                         | <Decline to answer> | Yes                 | No                  | <Decline to answer> | No                  | <Decline to answer> | No                  | <Decline to answer> | Yes                 | Yes                 | <Decline to answer> | \<I don’t know\>  | Somewhat agree      | No, I have not personally experienced drought impacts               | \<I don’t know\>       | <Decline to answer>    | \<I don’t know\>       | No                  | Yes                 | Yes                 | Yes                 | Yes                 | <Decline to answer> | No                  | <Decline to answer> | <Decline to answer> | No                  | No                  | <Decline to answer> | Yes                 | <Decline to answer> | <Decline to answer> | Yes                 | Moderate            | Yes | Trust only a little | <Not applicable>    | <Not applicable>    | Strongly distrust   | <Decline to answer> | Strongly distrust   | Unsure              | NA                  | Somewhat likely     | Unsure              | <Decline to answer> | Very unlikely       | Very unlikely       | Somewhat unlikely   | <Not applicable>    | <Decline to answer> | Yes                 | NA                  | No                  | No                  | No                  | <Not applicable>    | NA                  | No                  | Yes              | <Decline to answer> | 1.2363034 | <Missing> | <Missing>       | 100K - \<150K | 55-64     | <Missing>           | \<BA/BS   | Owned by you or someone else living there | NA           |
| DRS_ID2299 | Mail                | Spanish      | 077          | 2    | No                  | Yes                 | No                  | <Decline to answer> | Yes                 | Yes                 | 54               | Historic or Delta “legacy” town | No   | Yes  | No   | Yes  | No   | Yes  | Yes  | Yes  | No   | <I Dont know why the Delta is important> | Yes                                      | Yes                                      | Yes                                      | <I Dont know why the Delta is important> | No                                       | Yes                 | <Decline to answer> | Yes                 | <Decline to answer> | <Decline to answer> | Yes                 | Yes                 | Yes                 | Yes                 | Yes                 | No                  | <Decline to answer> | No                  | <Decline to answer> | <Decline to answer> | <Decline to answer> | Yes                 | No                  | No                  | <Decline to answer> | <Decline to answer> | Yes                 | <Decline to answer> | Yes                 | No                  | Yes                 | <Decline to answer> | <Decline to answer> | Yes                 | <Decline to answer> | <Decline to answer>                             | Very satisfied    | Yes                 | Yes                 | <Decline to answer> | No                  | <Decline to answer> | Yes                 | <Decline to answer> | No                  | <Unsure>             | Very concerned       | <Unsure>             | <Unsure>             | Moderately concerned | Not at all concerned | <Unsure>             | Yes. Please specify: | Entirely due to climate change   | mostly by natural changes in the environment             | <Decline to answer> | No                  | Yes                 | <Decline to answer> | <Decline to answer> | No                  | <Decline to answer> | No                  | No                  | <Decline to answer> | <Decline to answer> | Somewhat disagree | Somewhat disagree   | Yes, I have personally experienced drought impacts. Please specify: | <Decline to answer>    | \<I don’t know\>       | Not doing enough       | Yes                 | No                  | Yes                 | <Decline to answer> | Yes                 | No                  | No                  | Yes                 | Yes                 | Yes                 | No                  | Yes                 | <Decline to answer> | No                  | <Decline to answer> | No                  | Liberal             | No  | Strongly distrust   | NA                  | Trust only a little | <Decline to answer> | Strongly distrust   | Somewhat distrust   | Very unlikely       | <Not applicable>    | Very likely         | <Decline to answer> | Very unlikely       | <Decline to answer> | Very likely         | Very likely         | <Decline to answer> | No                  | <Decline to answer> | <Not applicable>    | <Decline to answer> | <Not applicable>    | NA                  | <Decline to answer> | NA                  | <Not applicable>    | No               | Yes                 | 4.9442880 | Male      | Other and mixed | <Missing>     | 35-44     | <Missing>           | BA/BS     | <Decline to answer>                       | Other lang   |
| DRS_ID2300 | Mail                | English      | 067          | 1    | <Decline to answer> | No                  | No                  | Yes                 | <Decline to answer> | <Decline to answer> | 64               | Historic or Delta “legacy” town | Yes  | No   | No   | Yes  | Yes  | No   | Yes  | Yes  | Yes  | <I Dont know why the Delta is important> | No                                       | Yes                                      | No                                       | No                                       | <I Dont know why the Delta is important> | No                  | <Decline to answer> | <Decline to answer> | <Decline to answer> | Yes                 | No                  | Yes                 | No                  | <Decline to answer> | Yes                 | No                  | <Decline to answer> | No                  | <Decline to answer> | <Decline to answer> | <Decline to answer> | Yes                 | <Decline to answer> | No                  | Yes                 | No                  | <Decline to answer> | Yes                 | <Decline to answer> | Yes                 | <Decline to answer> | <Decline to answer> | Yes                 | No                  | No                  | No one advocates for my interests in the Delta  | Neutral           | No                  | <Decline to answer> | Yes                 | Yes                 | No                  | No                  | No                  | Yes                 | Moderately concerned | <Decline to answer>  | <Decline to answer>  | <Unsure>             | Somewhat concerned   | Moderately concerned | <Unsure>             | Yes. Please specify: | Not at all due to climate change | None of the above because climate change isn’t happening | No                  | Yes                 | Yes                 | <Decline to answer> | <Decline to answer> | Yes                 | No                  | <Decline to answer> | No                  | <Decline to answer> | <Decline to answer> | Strongly agree    | Somewhat disagree   | Yes, I have personally experienced drought impacts. Please specify: | Doing too much         | Not doing enough       | Doing too much         | <Decline to answer> | <Decline to answer> | No                  | <Decline to answer> | No                  | <Decline to answer> | <Decline to answer> | Yes                 | <Decline to answer> | No                  | <Decline to answer> | No                  | No                  | <Decline to answer> | <Decline to answer> | <Decline to answer> | Very Liberal        | Yes | <Decline to answer> | <Decline to answer> | Somewhat distrust   | Trust completely    | Trust only a little | NA                  | Somewhat unlikely   | Very unlikely       | Very unlikely       | Very likely         | <Not applicable>    | Somewhat likely     | <Not applicable>    | NA                  | NA                  | Yes                 | NA                  | <Decline to answer> | No                  | <Decline to answer> | <Not applicable>    | <Decline to answer> | Yes                 | Yes                 | <Not applicable> | NA                  | 1.8129520 | Female    | White           | 25K - \<50K   | 18-24     | <Missing>           | \>BA/BS   | <Decline to answer>                       | English only |

While the example above demonstrates a greater level of detail around
how respondents *did not* engage a survey question, it is not altogether
helpful for understanding generative engagements (ie. those responses
that selected a given option). In practical terms, it is difficult to
plot responses from the code chunk above because it involves additional
categories in which we may have no interest. If our objective is to
better understand how residents think about an issue, then we might want
to convert all ‘missing values’ to the R value `NA`. This allows
plotting packages like {ggplot2} to handle these responses in one broad
grouping, which better illustrates generative engagements. Below, we
convert ‘missing values’ to `NA` using the argument `convert_to_NA`.

``` r
dat2 <- cdrs::cdrs_read_example(convert_to_NA = T)
#> Loading fabricated DRS data.

dat2  %>%
  head() %>%
  knitr::kable(format = "markdown")
```

| DRS_ID     | DistributionChannel | UserLanguage | geoid.county | Zone | Q1_0 | Q1_1 | Q1_2 | Q1_3 | Q1_4 | Q1_5 | Q1a | Q2                              | Q3_0 | Q3_1 | Q3_2 | Q3_3 | Q3_4 | Q3_5 | Q3_6 | Q3_7 | Q3_8 | Q4_0 | Q4_1 | Q4_2 | Q4_3 | Q4_4 | Q4_5 | Q6_0 | Q6_1 | Q6_2 | Q6_3 | Q6_4 | Q6_5 | Q6_6 | Q6_7 | Q6_8 | Q6_9 | Q7_0 | Q7_1 | Q7_2 | Q7_3 | Q7_4 | Q7_5 | Q7_6 | Q7_7 | Q7_8 | Q7_9 | Q7_10 | Q7_11 | Q7_12 | Q8_0 | Q8_1 | Q8_2 | Q8_3 | Q8_4 | Q8_5 | Q8_6 | Q9                                              | Q10               | Q12_0 | Q12_1 | Q12_2 | Q12_3 | Q12_4 | Q12_5 | Q12_6 | Q12_7 | Q13a                 | Q13b                 | Q13c                 | Q13d                 | Q13e                 | Q13f                 | Q13g                 | Q14                  | Q15                              | Q16                                                      | Q17_0 | Q17_1 | Q17_2 | Q17_3 | Q17_4 | Q17_5 | Q17_6 | Q17_7 | Q17_8 | Q17_9 | Q18 | Q19a              | Q19b              | Q20                                                                 | Q21                    | Q22                    | Q23                    | Q24_0 | Q24_1 | Q24_2 | Q24_3 | Q24_4 | Q24_5 | Q24_6 | Q24_7 | Q24_8 | Q24_9 | Q24_10 | Q24_11 | Q24_12 | Q24_13 | Q24_14 | Q24_15 | Q34               | Q39 | Q41a                | Q41b              | Q41c                | Q41d              | Q41e                | Q41f                | Q42a              | Q42b            | Q42c              | Q42d            | Q42e              | Q42f            | Q42g          | Q42h              | Q42i | Q43_0 | Q43_1 | Q43_2 | Q43_3 | Q43_4 | Q43_5 | Q43_6 | Q43_7 | Q43_9 | Q43_10 | Q43_11 |   WTFINAL | SEX_P  | RACE_P          | INCOME_P      | AGE_P | ETHNICITY_P         | EDU_P   | HOMEOWNERSHIP_P                           | LANGUAGE_P   |
|:-----------|:--------------------|:-------------|:-------------|:-----|:-----|:-----|:-----|:-----|:-----|:-----|----:|:--------------------------------|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:------|:------|:------|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:------------------------------------------------|:------------------|:------|:------|:------|:------|:------|:------|:------|:------|:---------------------|:---------------------|:---------------------|:---------------------|:---------------------|:---------------------|:---------------------|:---------------------|:---------------------------------|:---------------------------------------------------------|:------|:------|:------|:------|:------|:------|:------|:------|:------|:------|:----|:------------------|:------------------|:--------------------------------------------------------------------|:-----------------------|:-----------------------|:-----------------------|:------|:------|:------|:------|:------|:------|:------|:------|:------|:------|:-------|:-------|:-------|:-------|:-------|:-------|:------------------|:----|:--------------------|:------------------|:--------------------|:------------------|:--------------------|:--------------------|:------------------|:----------------|:------------------|:----------------|:------------------|:----------------|:--------------|:------------------|:-----|:------|:------|:------|:------|:------|:------|:------|:------|:------|:-------|:-------|----------:|:-------|:----------------|:--------------|:------|:--------------------|:--------|:------------------------------------------|:-------------|
| DRS_ID2295 | Mail                | English      | 113          | 1    | Yes  | No   | Yes  | No   | No   | Yes  |   3 | Rural (outside of town)         | No   | Yes  | Yes  | Yes  | Yes  | No   | Yes  | No   | Yes  | Yes  | No   | NA   | Yes  | Yes  | NA   | NA   | Yes  | No   | No   | Yes  | NA   | NA   | Yes  | Yes  | Yes  | Yes  | Yes  | NA   | Yes  | Yes  | Yes  | No   | No   | NA   | NA   | NA    | Yes   | No    | NA   | Yes  | No   | No   | Yes  | Yes  | NA   | Please specify individual or organization name: | Satisfied         | NA    | NA    | Yes   | NA    | Yes   | No    | No    | NA    | Very concerned       | Moderately concerned | Not at all concerned | Somewhat concerned   | Moderately concerned | Somewhat concerned   | Not at all concerned | NA                   | Mostly due to other factors      | NA                                                       | Yes   | NA    | No    | Yes   | NA    | Yes   | No    | Yes   | NA    | Yes   | No  | Somewhat disagree | NA                | NA                                                                  | Doing the right amount | Doing too much         | Doing the right amount | No    | NA    | Yes   | No    | NA    | Yes   | Yes   | No    | No    | NA    | NA     | No     | Yes    | NA     | No     | NA     | NA                | Yes | Trust somewhat      | Trust completely  | Strongly distrust   | NA                | Somewhat distrust   | Trust somewhat      | NA                | NA              | NA                | Somewhat likely | Somewhat unlikely | Unsure          | NA            | NA                | NA   | NA    | NA    | No    | NA    | Yes   | Yes   | Yes   | NA    | NA    | Yes    | NA     | 6.5708839 | Male   | White           | 75K - \<100K  | 45-54 | NA                  | \<BA/BS | Owned by you or someone else living there | Other lang   |
| DRS_ID2296 | Mail                | English      | 095          | 1    | Yes  | No   | Yes  | NA   | NA   | Yes  |   2 | Rural (outside of town)         | No   | No   | Yes  | No   | No   | No   | Yes  | No   | Yes  | No   | Yes  | Yes  | No   | No   | No   | Yes  | No   | No   | Yes  | No   | NA   | Yes  | NA   | NA   | Yes  | NA   | No   | Yes  | No   | No   | No   | NA   | NA   | No   | No   | No    | Yes   | No    | Yes  | No   | No   | Yes  | No   | NA   | No   | NA                                              | Dissatisfied      | NA    | NA    | NA    | No    | NA    | No    | NA    | NA    | Somewhat concerned   | NA                   | Moderately concerned | Moderately concerned | NA                   | Moderately concerned | NA                   | NA                   | NA                               | mostly by natural changes in the environment             | No    | NA    | NA    | No    | No    | NA    | No    | No    | NA    | Yes   | No  | Strongly disagree | Strongly agree    | NA                                                                  | NA                     | Doing the right amount | Doing the right amount | Yes   | No    | No    | No    | No    | No    | No    | NA    | Yes   | Yes   | No     | NA     | Yes    | Yes    | Yes    | No     | None of the above | Yes | Somewhat distrust   | Somewhat distrust | Trust somewhat      | Somewhat distrust | NA                  | NA                  | NA                | Somewhat likely | NA                | NA              | Very likely       | Very likely     | Unsure        | Somewhat likely   | No   | Yes   | Yes   | NA    | Yes   | NA    | No    | NA    | NA    | Yes   | NA     | NA     | 0.1300191 | Female | Asian/PI        | 50K - \<75K   | 65+   | NA                  | \>BA/BS | NA                                        | Other lang   |
| DRS_ID2297 | Online              | Spanish      | 113          | 2    | Yes  | NA   | NA   | No   | Yes  | No   |  NA | Urban                           | Yes  | Yes  | No   | Yes  | Yes  | No   | No   | Yes  | No   | No   | NA   | NA   | NA   | No   | NA   | No   | NA   | Yes  | Yes  | NA   | Yes  | No   | Yes  | NA   | NA   | NA   | No   | NA   | NA   | NA   | No   | Yes  | NA   | No   | NA   | Yes   | NA    | No    | No   | NA   | Yes  | Yes  | No   | NA   | No   | No one advocates for my interests in the Delta  | Satisfied         | NA    | NA    | No    | NA    | Yes   | Yes   | No    | Yes   | NA                   | Not at all concerned | Somewhat concerned   | Not at all concerned | NA                   | NA                   | Very concerned       | No                   | Mostly due to climate change     | mostly by human activities                               | Yes   | NA    | Yes   | No    | No    | NA    | NA    | NA    | NA    | No    | NA  | Somewhat agree    | Strongly disagree | Yes, I have personally experienced drought impacts. Please specify: | Doing too much         | Not doing enough       | Doing the right amount | No    | Yes   | NA    | Yes   | No    | No    | No    | NA    | Yes   | Yes   | NA     | NA     | No     | NA     | NA     | Yes    | Conservative      | Yes | Trust completely    | Trust somewhat    | NA                  | Trust somewhat    | Trust somewhat      | Trust only a little | NA                | Very likely     | Somewhat unlikely | Very unlikely   | Unsure            | NA              | NA            | Very unlikely     | NA   | NA    | No    | Yes   | NA    | NA    | NA    | Yes   | No    | NA    | NA     | Yes    | 2.4549599 | Male   | Black           | \>150K        | NA    | Not Hispanic/Latino | NA      | Rented/Other                              | Other lang   |
| DRS_ID2298 | Online              | English      | 013          | 3    | No   | Yes  | NA   | Yes  | No   | No   |   1 | NA                              | Yes  | Yes  | Yes  | No   | Yes  | No   | Yes  | Yes  | Yes  | No   | NA   | No   | Yes  | No   | NA   | NA   | NA   | Yes  | Yes  | Yes  | No   | NA   | Yes  | NA   | NA   | Yes  | Yes  | No   | No   | No   | Yes  | No   | Yes  | No   | NA   | Yes   | No    | NA    | No   | No   | Yes  | No   | NA   | NA   | NA   | No one advocates for my interests in the Delta  | Very dissatisfied | No    | No    | No    | NA    | NA    | NA    | Yes   | NA    | Somewhat concerned   | Somewhat concerned   | Very concerned       | Very concerned       | Not at all concerned | Very concerned       | NA                   | NA                   | Mostly due to climate change     | NA                                                       | NA    | Yes   | No    | NA    | No    | NA    | No    | NA    | Yes   | Yes   | NA  | NA                | Somewhat agree    | No, I have not personally experienced drought impacts               | NA                     | NA                     | NA                     | No    | Yes   | Yes   | Yes   | Yes   | NA    | No    | NA    | NA    | No    | No     | NA     | Yes    | NA     | NA     | Yes    | Moderate          | Yes | Trust only a little | NA                | NA                  | Strongly distrust | NA                  | Strongly distrust   | Unsure            | NA              | Somewhat likely   | Unsure          | NA                | Very unlikely   | Very unlikely | Somewhat unlikely | NA   | NA    | Yes   | NA    | No    | No    | No    | NA    | NA    | No    | Yes    | NA     | 1.2363034 | NA     | NA              | 100K - \<150K | 55-64 | NA                  | \<BA/BS | Owned by you or someone else living there | NA           |
| DRS_ID2299 | Mail                | Spanish      | 077          | 2    | No   | Yes  | No   | NA   | Yes  | Yes  |   4 | Historic or Delta “legacy” town | No   | Yes  | No   | Yes  | No   | Yes  | Yes  | Yes  | No   | NA   | Yes  | Yes  | Yes  | NA   | No   | Yes  | NA   | Yes  | NA   | NA   | Yes  | Yes  | Yes  | Yes  | Yes  | No   | NA   | No   | NA   | NA   | NA   | Yes  | No   | No   | NA   | NA    | Yes   | NA    | Yes  | No   | Yes  | NA   | NA   | Yes  | NA   | NA                                              | Very satisfied    | Yes   | Yes   | NA    | No    | NA    | Yes   | NA    | No    | NA                   | Very concerned       | NA                   | NA                   | Moderately concerned | Not at all concerned | NA                   | Yes. Please specify: | Entirely due to climate change   | mostly by natural changes in the environment             | NA    | No    | Yes   | NA    | NA    | No    | NA    | No    | No    | NA    | NA  | Somewhat disagree | Somewhat disagree | Yes, I have personally experienced drought impacts. Please specify: | NA                     | NA                     | Not doing enough       | Yes   | No    | Yes   | NA    | Yes   | No    | No    | Yes   | Yes   | Yes   | No     | Yes    | NA     | No     | NA     | No     | Liberal           | No  | Strongly distrust   | NA                | Trust only a little | NA                | Strongly distrust   | Somewhat distrust   | Very unlikely     | NA              | Very likely       | NA              | Very unlikely     | NA              | Very likely   | Very likely       | NA   | No    | NA    | NA    | NA    | NA    | NA    | NA    | NA    | NA    | No     | Yes    | 4.9442880 | Male   | Other and mixed | NA            | 35-44 | NA                  | BA/BS   | NA                                        | Other lang   |
| DRS_ID2300 | Mail                | English      | 067          | 1    | NA   | No   | No   | Yes  | NA   | NA   |   5 | Historic or Delta “legacy” town | Yes  | No   | No   | Yes  | Yes  | No   | Yes  | Yes  | Yes  | NA   | No   | Yes  | No   | No   | NA   | No   | NA   | NA   | NA   | Yes  | No   | Yes  | No   | NA   | Yes  | No   | NA   | No   | NA   | NA   | NA   | Yes  | NA   | No   | Yes  | No    | NA    | Yes   | NA   | Yes  | NA   | NA   | Yes  | No   | No   | No one advocates for my interests in the Delta  | Neutral           | No    | NA    | Yes   | Yes   | No    | No    | No    | Yes   | Moderately concerned | NA                   | NA                   | NA                   | Somewhat concerned   | Moderately concerned | NA                   | Yes. Please specify: | Not at all due to climate change | None of the above because climate change isn’t happening | No    | Yes   | Yes   | NA    | NA    | Yes   | No    | NA    | No    | NA    | NA  | Strongly agree    | Somewhat disagree | Yes, I have personally experienced drought impacts. Please specify: | Doing too much         | Not doing enough       | Doing too much         | NA    | NA    | No    | NA    | No    | NA    | NA    | Yes   | NA    | No    | NA     | No     | No     | NA     | NA     | NA     | Very Liberal      | Yes | NA                  | NA                | Somewhat distrust   | Trust completely  | Trust only a little | NA                  | Somewhat unlikely | Very unlikely   | Very unlikely     | Very likely     | NA                | Somewhat likely | NA            | NA                | NA   | Yes   | NA    | NA    | No    | NA    | NA    | NA    | Yes   | Yes   | NA     | NA     | 1.8129520 | Female | White           | 25K - \<50K   | 18-24 | NA                  | \>BA/BS | NA                                        | English only |

### Example: `cdrs_as_NA`

While the function `cdrs_as_NA` is rarely called on its own, we’ll take
a look at it because it maybe useful after you’ve read the data into
your R environment. This component allows us to convert ‘missing values’
to `NA`.

First, we’ll need a sample from the data set.

``` r
data <- data.frame(
  DRS_ID = paste0("DRS", 2:6),
  Q2 = c("<I don't know>", rep("Historic or Delta \"legacy\" town", 4))
)

data %>%
  knitr::kable(format = "markdown")
```

| DRS_ID | Q2                              |
|:-------|:--------------------------------|
| DRS2   | \<I don’t know\>                |
| DRS3   | Historic or Delta “legacy” town |
| DRS4   | Historic or Delta “legacy” town |
| DRS5   | Historic or Delta “legacy” town |
| DRS6   | Historic or Delta “legacy” town |

Now compare the table above with the one outputted below.

``` r
cdrs_as_NA(data) %>%
  knitr::kable(format = "markdown")
```

| DRS_ID | Q2                              |
|:-------|:--------------------------------|
| DRS2   | NA                              |
| DRS3   | Historic or Delta “legacy” town |
| DRS4   | Historic or Delta “legacy” town |
| DRS5   | Historic or Delta “legacy” town |
| DRS6   | Historic or Delta “legacy” town |

## Acknowledgements

I would like to thank the Dr. Jessica Rudnick, the Core R Team, the
authors of the Tidyverse, the authors of ‘R Packages’ 2nd Ed. (Wickham
and Bryan), Dirk Eddelbuettel et al. for the digest package, and last
but not least, Thomas Lumley for the survey package.

Initial funding was provided by Delta Science Program, Delta Stewardship
Council (DSC-21143).
